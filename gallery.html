---
layout: page
title: Photo Gallery
---

<div class="gallery">
    {% assign image_files = site.static_files | where: "image", true %}
    
    {% if image_files.size > 0 %}
        {% for image in image_files %}
            {% if image.path contains "img_gallery" %}
                <div class="gallery-item">
                    <img src="{{ image.path | relative_url }}" alt="{{ image.name }}" class="thumbnail" onclick="openLightbox('{{ image.path | relative_url }}')">
                </div>
            {% endif %}
        {% endfor %}
    {% else %}
        <p>No images found in img_gallery.</p>
    {% endif %}
</div>

<!-- Lightbox -->
<div id="lightbox" class="lightbox" onclick="closeLightbox()">
    <span class="close" onclick="closeLightbox()">&times;</span>
    <div class="lightbox-content-container">
        <img class="lightbox-content" id="lightbox-img">
        <p id="lightbox-description" class="lightbox-description"></p>
    </div>
</div>

<style>
    .gallery {
        display: flex;
        flex-wrap: wrap;
        gap: 10px; /* space between images */
    }

    .gallery-item {
        flex: 1 1 calc(25% - 10px); /* adjust width */
        cursor: pointer;
    }

    .thumbnail {
        width: 100%;
        max-width: 400px; /* max width for thumbnails */
        height: auto;
        border-radius: 5px; /* rounded corners */
        transition: transform 0.2s; /* smooth scaling */
    }

    .thumbnail:hover {
        transform: scale(1.05); /* zoom effect on hover */
    }

    .lightbox {
        display: none; /* default to hidden */
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8); /* semi-transparent background */
        justify-content: center;
        align-items: center;
    }

    .lightbox-content-container {
        display: flex;
        max-width: 90%; /* limit total width */
        max-height: 90%; /* limit total height */
        margin: auto;
    }

    .lightbox-content {
        max-width: 80%; /* image takes up 80% of container */
        max-height: 100%; /* image will fit within height */
        margin-right: 20px; /* space between image and description */
    }

    .lightbox-description {
        color: white;
        margin: auto 0; /* center vertically */
        max-width: 20%; /* description takes up 20% of container */
        text-align: left; /* left align text */
    }
</style>

<script>
let descriptions = {};

fetch('data/descriptions.json')
    .then(response => response.json())
    .then(data => {
        descriptions = data;
    })
    .catch(error => {
        console.error("Error loading descriptions:", error);
    });

function openLightbox(imageUrl) {
    document.getElementById("lightbox").style.display = "flex";
    document.getElementById("lightbox-img").src = imageUrl;

    const imageName = imageUrl.split('/').pop();
    const descriptionText = descriptions[imageName] || "No description available.";
    
    const descriptionElement = document.getElementById("lightbox-description");
    descriptionElement.textContent = descriptionText;
}

function closeLightbox() {
    document.getElementById("lightbox").style.display = "none";
}
</script>